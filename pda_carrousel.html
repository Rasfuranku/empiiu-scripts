<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ruta Saneamiento y Estructura Financiera - Monta침aM칤a</title>
    
    <!-- React y ReactDOM -->
    <script crossorigin src="https://unpkg.com/react@18/umd/react.production.min.js"></script>
    <script crossorigin src="https://unpkg.com/react-dom@18/umd/react-dom.production.min.js"></script>
    
    <!-- Babel para traducir JSX -->
    <script src="https://unpkg.com/@babel/standalone/babel.min.js"></script>
    
    <!-- Tailwind CSS -->
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .perspective-1000 { perspective: 1000px; }
        .transform-style-3d { transform-style: preserve-3d; }
        .backface-hidden { backface-visibility: hidden; }
        .rotate-y-180 { transform: rotateY(180deg); }
        .no-scrollbar::-webkit-scrollbar { display: none; }
        .no-scrollbar { -ms-overflow-style: none; scrollbar-width: none; }
        
        @keyframes bounce-short {
            0%, 100% { transform: translateY(0); }
            50% { transform: translateY(-5px); }
        }
        .animate-bounce-short { animation: bounce-short 1s infinite; }
        
        /* Estilos para enlaces dentro de las tarjetas */
        .card-link {
            color: #2563eb;
            text-decoration: underline;
            font-weight: 600;
        }
        .card-link:hover {
            color: #1e40af;
        }
    </style>
</head>
<body class="bg-slate-50">
    <div id="root"></div>

    <script type="text/babel">
        const { useState, useEffect, useMemo } = React;

        // --- 칈CONOS SVG ---
        const Icons = {
            BookOpen: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M2 3h6a4 4 0 0 1 4 4v14a3 3 0 0 0-3-3H2z"/><path d="M22 3h-6a4 4 0 0 0-4 4v14a3 3 0 0 1 3-3h7z"/></svg>,
            Search: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><circle cx="11" cy="11" r="8"/><line x1="21" y1="21" x2="16.65" y2="16.65"/></svg>,
            MousePointer: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="m3 3 7.07 16.97 2.51-7.39 7.39-2.51L3 3z"/><path d="m13 13 6 6"/></svg>,
            BarChart2: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><line x1="18" y1="20" x2="18" y2="10"/><line x1="12" y1="20" x2="12" y2="4"/><line x1="6" y1="20" x2="6" y2="14"/></svg>,
            ChevronLeft: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="15 18 9 12 15 6"/></svg>,
            ChevronRight: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><polyline points="9 18 15 12 9 6"/></svg>,
            RotateCw: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M21 12a9 9 0 1 1-9-9c2.52 0 4.93 1 6.74 2.74L21 8"/><path d="M21 3v5h-5"/></svg>,
            MapPin: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z"/><circle cx="12" cy="10" r="3"/></svg>,
            CheckCircle: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M22 11.08V12a10 10 0 1 1-5.93-9.14"/><polyline points="22 4 12 14.01 9 11.01"/></svg>,
            Lock: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><rect x="3" y="11" width="18" height="11" rx="2" ry="2"/><path d="M7 11V7a5 5 0 0 1 10 0v4"/></svg>,
            Brain: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" strokeWidth="2" strokeLinecap="round" strokeLinejoin="round"><path d="M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z"/><path d="M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z"/></svg>,
            WhatsApp: () => <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="currentColor"><path d="M17.472 14.382c-.297-.149-1.758-.867-2.03-.967-.273-.099-.471-.148-.67.15-.197.297-.767.966-.94 1.164-.173.199-.347.223-.644.075-.297-.15-1.255-.463-2.39-1.475-.883-.788-1.48-1.761-1.653-2.059-.173-.297-.018-.458.13-.606.134-.133.298-.347.446-.52.149-.174.198-.298.298-.497.099-.198.05-.371-.025-.52-.075-.149-.669-1.612-.916-2.207-.242-.579-.487-.5-.669-.51-.173-.008-.371-.008-.57-.008-.198 0-.52.074-.792.372-.272.297-1.04 1.016-1.04 2.479 0 1.462 1.065 2.875 1.213 3.074.149.198 2.096 3.2 5.077 4.487.709.306 1.262.489 1.694.625.712.227 1.36.195 1.871.118.571-.085 1.758-.719 2.006-1.413.248-.694.248-1.289.173-1.413-.074-.124-.272-.198-.57-.347m-5.421 7.403h-.004a9.87 9.87 0 01-5.031-1.378l-.361-.214-3.741.982.998-3.648-.235-.374a9.86 9.86 0 01-1.51-5.26c.001-5.45 4.436-9.884 9.888-9.884 2.64 0 5.122 1.03 6.988 2.898a9.825 9.825 0 012.893 6.994c-.003 5.45-4.437 9.884-9.885 9.884m8.413-18.297A11.815 11.815 0 0012.05 0C5.495 0 .16 5.335.157 11.892c0 2.096.547 4.142 1.588 5.945L.057 24l6.305-1.654a11.882 11.882 0 005.683 1.448h.005c6.554 0 11.89-5.335 11.893-11.893a11.821 11.821 0 00-3.48-8.413Z"/></svg>
        };

        // --- DATOS DEL CURSO ---
        const cardsData = [
        {
            "id": 1,
            "module": "M칍DULO 1",
            "stage": 1,
            "moduleTitle": "Separaci칩n de Cuentas",
            "color": "bg-emerald-600",
            "lightColor": "bg-emerald-50",
            "textColor": "text-emerald-600",
            "icon": "Icons.Wallet",
            "title": "La Muralla China Financiera",
            "frontText": "El dinero de Monta침a M칤a no es el dinero de la casa.",
            "backContent": {
            "explanation": "Actualmente usas la caja para uniformes o mercado. Esto 'desangra' el negocio y te impide saber si realmente es rentable.",
            "example": "Si vendes 100 mil y gastas 50 mil en comida, el negocio cree que perdi칩 dinero, aunque vendi칩 bien.",
            "tip": "Usa Nequi 'Bolsillos' o una cuenta separada exclusivamente para el negocio.",
            "action": "Abre un Nequi o cuenta solo para el negocio. Todo ingreso de ventas debe entrar all칤, no a tu bolsillo personal."
            }
        },
        {
            "id": 2,
            "module": "M칍DULO 1",
            "stage": 1,
            "moduleTitle": "Separaci칩n de Cuentas",
            "color": "bg-emerald-600",
            "lightColor": "bg-emerald-50",
            "textColor": "text-emerald-600",
            "icon": "Icons.Home",
            "title": "Presupuesto de Supervivencia",
            "frontText": "쮺u치nto necesitas realmente para vivir hoy?",
            "backContent": {
            "explanation": "Para dejar de sacar dinero al azar, necesitas saber cu치nto te cuesta tu vida personal (mercado, ni침as, servicios).",
            "example": "Suma: comida + transporte + colegio. Si da 1 mill칩n, esa es tu meta personal, no un gasto del negocio.",
            "tip": "S칠 realista y austera por ahora. Solo lo esencial para que el negocio respire.",
            "action": "Escribe en una hoja todos tus gastos personales mensuales obligatorios. S칰malos y ten la cifra clara."
            }
        },
        {
            "id": 3,
            "module": "M칍DULO 1",
            "stage": 1,
            "moduleTitle": "Separaci칩n de Cuentas",
            "color": "bg-emerald-600",
            "lightColor": "bg-emerald-50",
            "textColor": "text-emerald-600",
            "icon": "Icons.UserCheck",
            "title": "Asignaci칩n de Sueldo (Inicial)",
            "frontText": "Lina es la empleada #1 y debe tener un pago fijo.",
            "backContent": {
            "explanation": "En lugar de 'pellizcar' la caja diario, asigna un monto fijo semanal o quincenal para ti, basado en lo que el negocio pueda.",
            "example": "Si el negocio vende 3 millones, asigna 500 mil para ti al mes por ahora. Aj칰state a eso.",
            "tip": "Es mejor un sueldo peque침o pero seguro, que saquear la caja hasta dejarla en cero.",
            "action": "Define un monto semanal para ti. Ret칤ralo un d칤a fijo (ej. Lunes) y PROHIBIDO sacar m치s dinero el resto de la semana."
            }
        },
        {
            "id": 4,
            "module": "M칍DULO 1",
            "stage": 1,
            "moduleTitle": "Separaci칩n de Cuentas",
            "color": "bg-emerald-600",
            "lightColor": "bg-emerald-50",
            "textColor": "text-emerald-600",
            "icon": "Icons.ShieldCheck",
            "title": "Disciplina de Hierro",
            "frontText": "El negocio tiene sus propias necesidades.",
            "backContent": {
            "explanation": "El dinero de los insumos (tarros, qu칤micos) es sagrado. Si te lo gastas, no puedes volver a producir.",
            "example": "Si te pagan 50 mil por un champ칰, 30 mil son para reponer material. Esos 30 mil NO son tuyos.",
            "tip": "Piensa que eres una administradora externa. Si robas la caja, te despiden.",
            "action": "Compromiso escrito: Pega un cartel en tu taller que diga: 'La caja del negocio NO se toca para gastos de casa'."
            }
        },
        {
            "id": 5,
            "module": "M칍DULO 2",
            "stage": 1,
            "moduleTitle": "Registro Sagrado",
            "color": "bg-teal-600",
            "lightColor": "bg-teal-50",
            "textColor": "text-teal-600",
            "icon": "Icons.BookOpen",
            "title": "Adi칩s a la Memoria",
            "frontText": "Lo que no se anota, no existe (y se pierde).",
            "backContent": {
            "explanation": "Mencionaste que llevas cuentas en un cuaderno pero a veces no te da tiempo. Eso crea fugas de dinero invisibles.",
            "example": "Olvidaste anotar los 2.000 del mototaxi o la bolsa extra. Al mes son 60.000 perdidos.",
            "tip": "Usa un cuaderno peque침o que quepa en tu bolsillo o una nota en el celular siempre a mano.",
            "action": "Consigue una libreta exclusiva 'Diario Financiero'. Anota la fecha y saldo inicial de caja de HOY."
            }
        },
        {
            "id": 6,
            "module": "M칍DULO 2",
            "stage": 1,
            "moduleTitle": "Registro Sagrado",
            "color": "bg-teal-600",
            "lightColor": "bg-teal-50",
            "textColor": "text-teal-600",
            "icon": "Icons.PenTool",
            "title": "Registro de Ingresos",
            "frontText": "Cada peso que entra tiene nombre y apellido.",
            "backContent": {
            "explanation": "Debes registrar cada venta detallada: qui칠n, qu칠 producto y medio de pago (Nequi o efectivo).",
            "example": "Venta: Sra. Mar칤a - 1 Espuma - $XX.XXX - Efectivo.",
            "tip": "Si f칤as, an칩talo en una secci칩n de 'Cuentas por Cobrar', no como ingreso real hasta que tengas el dinero.",
            "action": "Registra todas las ventas del d칤a de hoy con detalle. Si no vendiste, anota 'Venta: $0'."
            }
        },
        {
            "id": 7,
            "module": "M칍DULO 2",
            "stage": 1,
            "moduleTitle": "Registro Sagrado",
            "color": "bg-teal-600",
            "lightColor": "bg-teal-50",
            "textColor": "text-teal-600",
            "icon": "Icons.TrendingDown",
            "title": "Registro de Egresos",
            "frontText": "Controla hasta el 칰ltimo centavo que sale.",
            "backContent": {
            "explanation": "Aqu칤 anotas costos (insumos) y gastos (luz, transporte, tu sueldo, pago de deudas).",
            "example": "Compra: 10 tarros - $XX.XXX. Transporte a Buga: $XX.XXX.",
            "tip": "Diferencia entre 'Inversi칩n' (insumos) y 'Gasto' (pasajes). Ambos restan, pero uno vuelve como producto.",
            "action": "Anota cada salida de dinero de hoy. Al final del d칤a, resta Ingresos - Egresos para ver el saldo real."
            }
        },
        {
            "id": 8,
            "module": "M칍DULO 2",
            "stage": 1,
            "moduleTitle": "Registro Sagrado",
            "color": "bg-teal-600",
            "lightColor": "bg-teal-50",
            "textColor": "text-teal-600",
            "icon": "Icons.CheckCircle",
            "title": "Cierre de Caja Diario",
            "frontText": "La hora de la verdad antes de dormir.",
            "backContent": {
            "explanation": "No te acuestes sin saber cu치nto dinero tienes. Debes cuadrar el dinero f칤sico/Nequi con tu cuaderno.",
            "example": "Cuaderno dice que debes tener 100 mil. Cuentas la plata y hay 90 mil. 쮻칩nde est치n los 10 mil?",
            "tip": "Hacer esto diario toma 5 minutos. Hacerlo mensual toma d칤as y genera errores.",
            "action": "Realiza tu primer 'Arqueo de Caja' esta noche. Cuenta el dinero real y comp치ralo con tus notas."
            }
        },
        {
            "id": 9,
            "module": "M칍DULO 3",
            "stage": 2,
            "moduleTitle": "Costeo Real de Recetas",
            "color": "bg-blue-600",
            "lightColor": "bg-blue-50",
            "textColor": "text-blue-600",
            "icon": "Icons.Beaker",
            "title": "Receta Est치ndar",
            "frontText": "Para cobrar bien, debes saber cu치nto gastas exactamente.",
            "backContent": {
            "explanation": "No puedes calcular 'al ojo'. Necesitas saber cu치nto cuesta cada gramo de romero, aj칤 y base de jab칩n.",
            "example": "Si 1 litro de base vale 20 mil y usas 100ml, el costo es 2 mil. No adivines.",
            "tip": "Usa una b치scula de cocina o tazas medidoras para estandarizar tus mezclas.",
            "action": "Elige tu producto estrella (Espuma). Escribe la lista exacta de ingredientes y cantidades para UN lote."
            }
        },
        {
            "id": 10,
            "module": "M칍DULO 3",
            "stage": 2,
            "moduleTitle": "Costeo Real de Recetas",
            "color": "bg-blue-600",
            "lightColor": "bg-blue-50",
            "textColor": "text-blue-600",
            "icon": "Icons.Tag",
            "title": "Costos de Empaque y Etiqueta",
            "frontText": "El 'vestido' del producto tambi칠n cuesta.",
            "backContent": {
            "explanation": "Los tarros subieron de precio. Debes actualizar este costo unitario, incluyendo la etiqueta y la impresi칩n.",
            "example": "Tarro: $1.500 + Etiqueta: $300 + Impresi칩n hoja: $200 = $2.000 solo en envase.",
            "tip": "Incluye el costo de transporte para ir a buscar los tarros dentro del costo del insumo.",
            "action": "Averigua el precio ACTUALIZADO de tus tarros y etiquetas. An칩talo junto a los ingredientes del paso anterior."
            }
        },
        {
            "id": 11,
            "module": "M칍DULO 3",
            "stage": 2,
            "moduleTitle": "Costeo Real de Recetas",
            "color": "bg-blue-600",
            "lightColor": "bg-blue-50",
            "textColor": "text-blue-600",
            "icon": "Icons.Clock",
            "title": "Tu Mano de Obra",
            "frontText": "Tu tiempo vale oro, incl칰yelo en el costo.",
            "backContent": {
            "explanation": "Si t칰 no lo hicieras, tendr칤as que pagarle a alguien. Debes cobrar por el tiempo de producci칩n.",
            "example": "Si te demoras 2 horas haciendo 10 espumas y tu hora vale 5 mil, son 10 mil de costo laboral (1 mil por espuma).",
            "tip": "No regales tu trabajo. Este costo ayuda a pagar tu 'sueldo' del M칩dulo 1.",
            "action": "Estima cu치nto tiempo tardas en hacer el lote. As칤gnale un valor a tu hora y s칰malo al costo total."
            }
        },
        {
            "id": 12,
            "module": "M칍DULO 3",
            "stage": 2,
            "moduleTitle": "Costeo Real de Recetas",
            "color": "bg-blue-600",
            "lightColor": "bg-blue-50",
            "textColor": "text-blue-600",
            "icon": "Icons.Calculator",
            "title": "Costo Unitario Total",
            "frontText": "La verdad sobre cu치nto te cuesta producir UNO.",
            "backContent": {
            "explanation": "Suma (Ingredientes + Empaque + Mano de Obra + 10% de imprevistos) y divide por el n칰mero de productos que salen.",
            "example": "Lote total: $100.000. Salieron 10 espumas. Costo unitario real: $10.000.",
            "tip": "Este es tu piso. Nunca puedes vender por debajo de esto.",
            "action": "Calcula el Costo Unitario de la Espuma Facial hoy mismo con los precios nuevos."
            }
        },
        {
            "id": 13,
            "module": "M칍DULO 4",
            "stage": 2,
            "moduleTitle": "Estrategia de Precios",
            "color": "bg-indigo-600",
            "lightColor": "bg-indigo-50",
            "textColor": "text-indigo-600",
            "icon": "Icons.Percent",
            "title": "Revisi칩n de M치rgenes",
            "frontText": "쮼st치s ganando el 40% realmente?",
            "backContent": {
            "explanation": "Dijiste que marginas entre 30-60%. Con los nuevos costos de tarros, verifica si ese porcentaje se mantiene.",
            "example": "Si vendes a 20 mil y el costo subi칩 a 15 mil, tu ganancia baj칩 a 5 mil (25%). Ya no es 40%.",
            "tip": "El margen debe cubrir no solo la ganancia, sino reinversi칩n y gastos fijos.",
            "action": "Compara tu Costo Unitario (M칩d 3) con tu Precio de Venta actual. Calcula tu % de ganancia real hoy."
            }
        },
        {
            "id": 14,
            "module": "M칍DULO 4",
            "stage": 2,
            "moduleTitle": "Estrategia de Precios",
            "color": "bg-indigo-600",
            "lightColor": "bg-indigo-50",
            "textColor": "text-indigo-600",
            "icon": "Icons.RefreshCw",
            "title": "Ajuste de Precios",
            "frontText": "No temas cobrar lo justo por calidad natural.",
            "backContent": {
            "explanation": "Si el margen baj칩 del 30%, debes subir el precio. Tus clientes valoran el testimonio y la calidad.",
            "example": "Explica: 'Mejoramos procesos y los insumos subieron, ajustamos $2.000 para mantener la calidad que amas'.",
            "tip": "Avisa con anticipaci칩n, pero no pidas permiso. Es tu negocio.",
            "action": "Define la nueva lista de precios para recuperar tus m치rgenes ideales (m칤nimo 30-40%)."
            }
        },
        {
            "id": 15,
            "module": "M칍DULO 4",
            "stage": 2,
            "moduleTitle": "Estrategia de Precios",
            "color": "bg-indigo-600",
            "lightColor": "bg-indigo-50",
            "textColor": "text-indigo-600",
            "icon": "Icons.Users",
            "title": "Precios Mayoristas vs. Unitarios",
            "frontText": "Reglas claras para vender volumen.",
            "backContent": {
            "explanation": "A veces vendes a tiendas o ferias. Debes tener un precio especial que a칰n te deje ganancia.",
            "example": "PVP: 25 mil. Mayorista (compra >6): 20 mil. Costo: 12 mil. A칰n ganas 8 mil.",
            "tip": "No des precio mayorista por comprar solo 2 unidades.",
            "action": "Escribe tus condiciones para mayoristas: 'M칤nimo X unidades para descuento del Y%'."
            }
        },
        {
            "id": 16,
            "module": "M칍DULO 4",
            "stage": 2,
            "moduleTitle": "Estrategia de Precios",
            "color": "bg-indigo-600",
            "lightColor": "bg-indigo-50",
            "textColor": "text-indigo-600",
            "icon": "Icons.FileText",
            "title": "Cat치logo Actualizado",
            "frontText": "Tu herramienta de venta n칰mero uno.",
            "backContent": {
            "explanation": "Mencionaste que no has actualizado el cat치logo de WhatsApp. Con precios nuevos, es urgente.",
            "example": "Sin cat치logo actualizado, pierdes tiempo dando precios uno por uno y generas desconfianza.",
            "tip": "Usa WhatsApp Business para tener el cat치logo visible siempre.",
            "action": "Actualiza HOY 3 productos en tu cat치logo de WhatsApp con fotos y PRECIOS nuevos."
            }
        },
        {
            "id": 17,
            "module": "M칍DULO 5",
            "stage": 3,
            "moduleTitle": "Gesti칩n de Deudas",
            "color": "bg-amber-600",
            "lightColor": "bg-amber-50",
            "textColor": "text-amber-600",
            "icon": "Icons.List",
            "title": "El Inventario de 'Culebras'",
            "frontText": "Saber exactamente cu치nto debes y a qui칠n.",
            "backContent": {
            "explanation": "Tienes deudas de envases y prendas empe침adas. Vamos a organizarlas para pagarlas.",
            "example": "Haz una lista: 'Sra. Envases: $200k', 'Qu칤micos: $100k'.",
            "tip": "Enfrentar la cifra total asusta, pero es el primer paso para eliminarla.",
            "action": "Lista en tu cuaderno TODAS las deudas del negocio. Nombre, monto y fecha l칤mite."
            }
        },
        {
            "id": 18,
            "module": "M칍DULO 5",
            "stage": 3,
            "moduleTitle": "Gesti칩n de Deudas",
            "color": "bg-amber-600",
            "lightColor": "bg-amber-50",
            "textColor": "text-amber-600",
            "icon": "Icons.ArrowRight",
            "title": "M칠todo Bola de Nieve",
            "frontText": "Paga primero lo m치s peque침o o urgente.",
            "backContent": {
            "explanation": "Destina una parte de las ventas (ej. 10%) exclusivamente a abonar deuda.",
            "example": "Si debes 50 mil a uno y 500 mil a otro, paga los 50 mil r치pido para tachar uno de la lista.",
            "tip": "Recuperar tus prendas empe침adas debe ser prioridad moral y financiera.",
            "action": "Elige la deuda m치s peque침a. Proponte saldarla esta semana con las ventas de la espuma."
            }
        },
        {
            "id": 19,
            "module": "M칍DULO 5",
            "stage": 3,
            "moduleTitle": "Gesti칩n de Deudas",
            "color": "bg-amber-600",
            "lightColor": "bg-amber-50",
            "textColor": "text-amber-600",
            "icon": "Icons.HandStop",
            "title": "Freno al Fiado",
            "frontText": "No caves un hueco para tapar otro.",
            "backContent": {
            "explanation": "Trabajar con la plata de los proveedores (fiado) es riesgoso. Intenta comprar de contado lo que puedas.",
            "example": "Si no tienes para 100 tarros, compra 20 de contado. Es mejor crecer lento pero sin deuda.",
            "tip": "La tranquilidad de no deber vale m치s que tener stock acumulado.",
            "action": "Promesa: Esta semana compra insumos SOLO con el dinero que ya tienes en caja. No pidas fiado."
            }
        },
        {
            "id": 20,
            "module": "M칍DULO 5",
            "stage": 3,
            "moduleTitle": "Gesti칩n de Deudas",
            "color": "bg-amber-600",
            "lightColor": "bg-amber-50",
            "textColor": "text-amber-600",
            "icon": "Icons.MessageCircle",
            "title": "Comunicaci칩n con Acreedores",
            "frontText": "La cara vale m치s que el dinero.",
            "backContent": {
            "explanation": "Mant칠n informados a quienes te f칤an. El silencio genera desconfianza.",
            "example": "Llama: 'Do침a X, esta semana vend칤 poco, le abono la mitad el viernes sin falta'.",
            "tip": "Cumple siempre los plazos que prometes, aunque sea con abonos peque침os.",
            "action": "Contacta a tu proveedor principal y acuerda un plan de pagos realista que puedas cumplir."
            }
        },
        {
            "id": 21,
            "module": "M칍DULO 6",
            "stage": 3,
            "moduleTitle": "Optimizaci칩n de Inventario",
            "color": "bg-violet-600",
            "lightColor": "bg-violet-50",
            "textColor": "text-violet-600",
            "icon": "Icons.Box",
            "title": "Inventario al D칤a",
            "frontText": "No tengas dinero 'durmiendo' en la estanter칤a.",
            "backContent": {
            "explanation": "Tus productos duran 6 meses. No produzcas en exceso cosas que no rotan r치pido.",
            "example": "Si el champ칰 de cebolla sale poco, no hagas 10 litros. Haz solo bajo pedido.",
            "tip": "El inventario quieto es dinero que no puedes usar para pagar deudas.",
            "action": "Cuenta cu치ntos productos terminados tienes hoy. Identifica cu치les llevan m치s de 1 mes ah칤."
            }
        },
        {
            "id": 22,
            "module": "M칍DULO 6",
            "stage": 3,
            "moduleTitle": "Optimizaci칩n de Inventario",
            "color": "bg-violet-600",
            "lightColor": "bg-violet-50",
            "textColor": "text-violet-600",
            "icon": "Icons.Zap",
            "title": "Venta de Evacuaci칩n",
            "frontText": "Convierte el stock viejo en efectivo YA.",
            "backContent": {
            "explanation": "Si tienes productos pr칩ximos a vencer o que rotan lento, haz una promoci칩n para recuperar capital.",
            "example": "'Promo Rel치mpago: Champ칰 de Cebolla con 20% dcto solo por hoy'. Recuperas el costo al menos.",
            "tip": "Es mejor recuperar el costo que tirar el producto a la basura.",
            "action": "Arma un 'Combo Recuperaci칩n' con productos lentos y ofr칠celo a tus 14 clientes fieles."
            }
        },
        {
            "id": 23,
            "module": "M칍DULO 6",
            "stage": 3,
            "moduleTitle": "Optimizaci칩n de Inventario",
            "color": "bg-violet-600",
            "lightColor": "bg-violet-50",
            "textColor": "text-violet-600",
            "icon": "Icons.Link",
            "title": "Insumos Justo a Tiempo",
            "frontText": "Compra inteligente para no perder liquidez.",
            "backContent": {
            "explanation": "No compres tarros para 6 meses si no tienes ventas aseguradas. Compra para 1 mes.",
            "example": "Evita tener 'plata parada' en envases vac칤os mientras te falta plata para comida.",
            "tip": "Coordina compras con otros emprendedores para bajar costos sin comprar de m치s.",
            "action": "Planifica la compra de insumos de esta semana bas치ndote estrictamente en tus ventas proyectadas."
            }
        },
        {
            "id": 24,
            "module": "M칍DULO 6",
            "stage": 3,
            "moduleTitle": "Optimizaci칩n de Inventario",
            "color": "bg-violet-600",
            "lightColor": "bg-violet-50",
            "textColor": "text-violet-600",
            "icon": "Icons.Trash",
            "title": "Control de Desperdicios",
            "frontText": "Cada gota cuenta.",
            "backContent": {
            "explanation": "Mencionaste perder plantas por hongos al secar. Eso es dinero perdido.",
            "example": "Si pierdes el 20% del romero, tu costo sube un 20%.",
            "tip": "Hasta comprar el deshidratador, seca en lotes m치s peque침os que puedas controlar mejor.",
            "action": "Implementa una bit치cora de 'P칠rdidas'. Anota qu칠 se da침칩 y por qu칠, para buscar soluciones."
            }
        },
        {
            "id": 25,
            "module": "M칍DULO 7",
            "stage": 4,
            "moduleTitle": "Planificaci칩n y Metas",
            "color": "bg-rose-600",
            "lightColor": "bg-rose-50",
            "textColor": "text-rose-600",
            "icon": "Icons.Target",
            "title": "Meta de Ventas Mensual",
            "frontText": "Un n칰mero claro a perseguir.",
            "backContent": {
            "explanation": "Para cubrir costos, sueldo y deudas, necesitas vender un monto exacto. Calc칰lalo.",
            "example": "Gastos Fijos + Sueldo + Pago Deudas = $2 Millones. Esa es tu meta m칤nima (Punto de Equilibrio).",
            "tip": "Divide la meta mensual en semanal. Es m치s f치cil pensar en vender 500k a la semana.",
            "action": "Calcula tu Punto de Equilibrio. Escribe la meta de ventas de este mes en un lugar visible."
            }
        },
        {
            "id": 26,
            "module": "M칍DULO 7",
            "stage": 4,
            "moduleTitle": "Planificaci칩n y Metas",
            "color": "bg-rose-600",
            "lightColor": "bg-rose-50",
            "textColor": "text-rose-600",
            "icon": "Icons.Calendar",
            "title": "Calendario de Ferias",
            "frontText": "Planifica d칩nde estar치s.",
            "backContent": {
            "explanation": "Las ferias son tu fuerte pero ahora cuestan. Selecciona solo las que te dejan ganancia real.",
            "example": "Si el stand vale 1 mill칩n, debes vender 3 millones para que valga la pena. Si no, no vayas.",
            "tip": "Ahorra con tiempo para el stand, no saques de la caja del d칤a a d칤a.",
            "action": "Elige UNA feria estrat칠gica en los pr칩ximos 3 meses. Averigua costos y empieza a separar fondos."
            }
        },
        {
            "id": 27,
            "module": "M칍DULO 7",
            "stage": 4,
            "moduleTitle": "Planificaci칩n y Metas",
            "color": "bg-rose-600",
            "lightColor": "bg-rose-50",
            "textColor": "text-rose-600",
            "icon": "Icons.Smartphone",
            "title": "Reactivaci칩n Digital",
            "frontText": "Tus clientes previos son oro.",
            "backContent": {
            "explanation": "Es m치s barato venderle a quien ya te compr칩 que conseguir uno nuevo.",
            "example": "Escribe a los 14 clientes recurrentes: 'Hola, 쯫a se te acab칩 la espuma? Tengo lote fresco'.",
            "tip": "Usa las listas de difusi칩n de WhatsApp con cuidado y cari침o.",
            "action": "Contacta a 5 clientes antiguos hoy para ofrecerles reposici칩n de producto."
            }
        },
        {
            "id": 28,
            "module": "M칍DULO 7",
            "stage": 4,
            "moduleTitle": "Planificaci칩n y Metas",
            "color": "bg-rose-600",
            "lightColor": "bg-rose-50",
            "textColor": "text-rose-600",
            "icon": "Icons.PieChart",
            "title": "An치lisis Mensual",
            "frontText": "쮾anaste o perdiste este mes?",
            "backContent": {
            "explanation": "A fin de mes, suma tu cuaderno. Ingresos vs. Gastos. 쯉obr칩 dinero?",
            "example": "Ingresos: 3M. Gastos: 2.5M. Ganancia: 500k. 춰Bien! (Si es negativo, revisa gastos).",
            "tip": "No te mientas. Los n칰meros son fr칤os pero te dicen la verdad para mejorar.",
            "action": "Agenda una cita contigo misma el 칰ltimo d칤a del mes para hacer el 'Cierre Mensual'."
            }
        },
        {
            "id": 29,
            "module": "M칍DULO 8",
            "stage": 4,
            "moduleTitle": "Fondo de Crecimiento",
            "color": "bg-green-600",
            "lightColor": "bg-green-50",
            "textColor": "text-green-600",
            "icon": "Icons.PiggyBank",
            "title": "La Alcanc칤a de los Sue침os",
            "frontText": "Ahorrando para el deshidratador.",
            "backContent": {
            "explanation": "Quieres un deshidratador para no perder materia prima. Cr칠ale un fondo espec칤fico.",
            "example": "Guarda el 5% de cada venta en un 'Bolsillo' de Nequi llamado 'Maquinaria'.",
            "tip": "De gota a gota se llena el vaso. No esperes a tener millones para empezar a guardar.",
            "action": "Crea el Bolsillo en Nequi 'Deshidratador'. Mete los primeros $10.000 hoy."
            }
        },
        {
            "id": 30,
            "module": "M칍DULO 8",
            "stage": 4,
            "moduleTitle": "Fondo de Crecimiento",
            "color": "bg-green-600",
            "lightColor": "bg-green-50",
            "textColor": "text-green-600",
            "icon": "Icons.Umbrella",
            "title": "Fondo de Imprevistos",
            "frontText": "Para cuando salen 'chicharrones'.",
            "backContent": {
            "explanation": "Siempre pasa algo (uniformes, m칠dico, da침o). Debes tener un colch칩n para no endeudarte.",
            "example": "Tu meta es tener 1 mes de gastos fijos guardados. Empieza con 50 mil.",
            "tip": "Este dinero NO se toca para invertir, es solo para emergencias reales.",
            "action": "Destina un porcentaje peque침o de las ventas de esta semana al fondo de emergencia."
            }
        },
        {
            "id": 31,
            "module": "M칍DULO 8",
            "stage": 4,
            "moduleTitle": "Fondo de Crecimiento",
            "color": "bg-green-600",
            "lightColor": "bg-green-50",
            "textColor": "text-green-600",
            "icon": "Icons.TrendingUp",
            "title": "Reinversi칩n Inteligente",
            "frontText": "Crecer con capital propio.",
            "backContent": {
            "explanation": "Usa las ganancias (no el capital de trabajo) para mejorar etiquetas o comprar al por mayor.",
            "example": "Si te sobraron 200k de ganancia neta, 칰salos para comprar m치s tarros y bajar el costo.",
            "tip": "El negocio debe financiarse solo. No saques de tu bolsillo personal.",
            "action": "Identifica qu칠 insumo bajar칤a mucho de precio si compras al por mayor y ponte esa meta."
            }
        },
        {
            "id": 32,
            "module": "M칍DULO 8",
            "stage": 4,
            "moduleTitle": "Fondo de Crecimiento",
            "color": "bg-green-600",
            "lightColor": "bg-green-50",
            "textColor": "text-green-600",
            "icon": "Icons.Award",
            "title": "Formalizaci칩n Gradual",
            "frontText": "Prepar치ndote para el Invima.",
            "backContent": {
            "explanation": "El Invima es costoso, pero necesario para exportar. Organiza la casa primero para poder pagarlo luego.",
            "example": "Tener contabilidad clara es requisito para pr칠stamos bancarios que financien el Invima.",
            "tip": "Tu orden financiero de HOY es la base de tu certificaci칩n de MA칌ANA.",
            "action": "Celebra haber completado el plan. Revisa tus ahorros y visualiza tu marca en grandes ligas."
            }
        }
        ]
        function SEOFlashCards() {
            // Obtenemos los m칩dulos 칰nicos, pero NO a침adimos "Todos" al principio
            const modules = useMemo(() => [...new Set(cardsData.map(c => c.module))], []);

            const [currentIndex, setCurrentIndex] = useState(0);
            const [isFlipped, setIsFlipped] = useState(false);
            const [filter, setFilter] = useState(modules[0]); // Iniciar en M칩dulo 1
            
            // ESTADO DE DESBLOQUEO (Inicia en 1)
            const [unlockedStage, setUnlockedStage] = useState(1); 
            
            const [showUnlockModal, setShowUnlockModal] = useState(false);
            const [showFinalModal, setShowFinalModal] = useState(false);
            const [unlockCodeInput, setUnlockCodeInput] = useState("");
            const [unlockError, setUnlockError] = useState("");

            // Filtrado
            const filteredCards = filter === "Todos" 
                ? cardsData 
                : cardsData.filter(card => card.module === filter);

            const currentCard = filteredCards[currentIndex];

            // L칩gica de Bloqueo
            const isCardLocked = currentCard.stage > unlockedStage;

            // Manejador de Cambio de M칩dulo
            const handleFilterChange = (newFilter) => {
                const sampleCard = cardsData.find(c => c.module === newFilter);
                if (sampleCard && sampleCard.stage > unlockedStage) {
                    setShowUnlockModal(true);
                    return;
                }
                setFilter(newFilter);
                setCurrentIndex(0);
                setIsFlipped(false);
            };

            // Navegaci칩n Siguiente
            const nextCard = (e) => {
                // Detiene propagaci칩n para evitar conflictos con el giro de la tarjeta
                if (e) {
                    e.stopPropagation();
                    e.nativeEvent.stopImmediatePropagation();
                }
                
                // Si estamos en la 칰ltima tarjeta del filtro actual
                if (currentIndex === filteredCards.length - 1) {
                    // Modal final del curso
                    if (currentCard.backContent.unlockFinal) {
                        setShowFinalModal(true);
                        return;
                    }
                    
                    // Si el filtro actual es "Todos" (ya no se usa pero por seguridad) o en un m칩dulo
                    // Verificar si el siguiente m칩dulo est치 bloqueado
                    // En este caso, si estamos al final del m칩dulo y no es el final del curso, probablemente debamos
                    // cambiar de m칩dulo o mostrar el modal si el siguiente est치 bloqueado.
                    // Pero como filtramos por m칩dulo, "filteredCards.length - 1" es el final del m칩dulo visualizado.
                    
                    // L칩gica para avanzar al siguiente m칩dulo autom치ticamente o mostrar modal
                    const currentModuleIndex = modules.indexOf(filter);
                    if (currentModuleIndex < modules.length - 1) {
                         const nextModule = modules[currentModuleIndex + 1];
                         const nextModuleSample = cardsData.find(c => c.module === nextModule);
                         
                         if (nextModuleSample.stage > unlockedStage) {
                             setShowUnlockModal(true);
                             return;
                         } else {
                             // Si est치 desbloqueado, cambiamos de filtro al siguiente m칩dulo
                             setFilter(nextModule);
                             setCurrentIndex(0);
                             setIsFlipped(false);
                             return;
                         }
                    }
                }
                
                // Voltea la tarjeta al frente para la transici칩n
                setIsFlipped(false);
                
                // Espera la mitad de la animaci칩n (250ms) para cambiar el contenido
                setTimeout(() => {
                    const nextIndex = (currentIndex + 1) % filteredCards.length;
                    
                    // Doble verificaci칩n de seguridad
                    if (filteredCards[nextIndex].stage > unlockedStage) {
                         setShowUnlockModal(true);
                    } else {
                        setCurrentIndex(nextIndex);
                    }
                }, 250);
            };

            const prevCard = (e) => {
                if (e) e.stopPropagation();
                setIsFlipped(false);
                setTimeout(() => {
                    setCurrentIndex((prev) => (prev - 1 + filteredCards.length) % filteredCards.length);
                }, 250);
            };

            const handleFlip = () => {
                if (!isCardLocked) {
                    setIsFlipped(!isFlipped);
                } else {
                    setShowUnlockModal(true);
                }
            };

            const handleUnlockSubmit = (e) => {
                e.preventDefault();
                
                // C칍DIGOS ACTUALIZADOS
                const validCodes = {
                    1: "OPTIMIZACIONHOME", // Pasa a Nivel 2
                    2: "CONTENIDO&BLOG",   // Pasa a Nivel 3
                    3: "ANALITICA",        // Pasa a Nivel 4
                };

                const inputClean = unlockCodeInput.trim().toUpperCase();
                const expectedCode = validCodes[unlockedStage];

                if (inputClean === expectedCode) {
                    setUnlockedStage(prev => Math.min(prev + 1, 4));
                    setShowUnlockModal(false);
                    setUnlockCodeInput("");
                    setUnlockError("");
                } else {
                    setUnlockError("C칩digo incorrecto. P칤delo por WhatsApp.");
                }
            };

            const openWhatsApp = (msg) => {
                const phone = "573014619330";
                const url = `https://wa.me/${phone}?text=${encodeURIComponent(msg)}`;
                window.open(url, '_blank');
            };

            return (
                <div className="min-h-screen bg-slate-50 flex flex-col font-sans text-slate-800">
                {/* Header */}
                <header className="bg-white border-b border-slate-200 sticky top-0 z-20 shadow-sm">
                    <div className="px-6 py-4 flex items-center justify-between">
                        <div className="flex items-center gap-3">
                            <div className="w-10 h-10 bg-slate-100 rounded-lg flex items-center justify-center overflow-hidden">
                                <img src="Empii (1).png" alt="Empiiu Robot" className="w-full h-full object-cover" onError={(e) => {e.target.style.display='none'; e.target.parentElement.innerHTML='游뱄'}} />
                            </div>
                            <div>
                                <h1 className="text-lg font-bold tracking-tight text-slate-800 leading-none">Ruta SEO</h1>
                                <p className="text-[10px] text-slate-400 uppercase tracking-widest mt-0.5">Monta침aM칤a</p>
                            </div>
                        </div>
                        <div className="text-xs font-bold text-emerald-600 bg-emerald-50 px-3 py-1 rounded-full border border-emerald-100">
                            Nivel {unlockedStage}/4
                        </div>
                    </div>
                </header>

                <main className="flex-1 max-w-5xl mx-auto w-full p-4 flex flex-col items-center justify-start gap-4 pb-12">
                    
                    {/* Intro Box */}
                    <div className="bg-white p-5 rounded-2xl border border-slate-200 shadow-sm text-left relative overflow-hidden w-full max-w-3xl">
                         <div className="absolute top-0 left-0 w-1 h-full bg-emerald-500"></div>
                         <h2 className="text-lg font-bold text-slate-800 mb-2">Ruta de Aprendizaje y Accionables: SEO</h2>
                         <p className="text-slate-600 text-sm leading-relaxed mb-3">
                            Esta ruta pr치ctica de 4 semanas est치 dise침ada para mover tu web en Google. Sin teor칤a infinita, solo acciones reales para <strong>rinconesyveredas.com</strong>.
                         </p>
                         <p className="text-xs text-slate-500 italic">
                            游눠 Avanza con calma: 2 m칩dulos por semana. Haz los ejercicios.
                         </p>
                    </div>

                    {/* Module Filter - AJUSTADO: Ahora usa flex-wrap para verse completo en mobile */}
                    <div className="w-full py-1 flex flex-wrap justify-center gap-2 px-2">
                        {modules.map((mod) => {
                            const modSample = cardsData.find(c => c.module === mod);
                            const isLocked = modSample && modSample.stage > unlockedStage;

                            return (
                                <button
                                key={mod}
                                onClick={() => handleFilterChange(mod)}
                                className={`px-4 py-2 rounded-full text-xs font-bold uppercase tracking-wide transition-all whitespace-nowrap border flex items-center gap-2 mb-1 ${
                                    filter === mod
                                    ? "bg-slate-800 text-white border-slate-800 shadow-md"
                                    : isLocked 
                                        ? "bg-slate-100 text-slate-400 border-slate-200 cursor-not-allowed" 
                                        : "bg-white text-slate-500 border-slate-200 hover:bg-slate-50"
                                }`}
                                >
                                {isLocked && <div className="w-3 h-3"><Icons.Lock /></div>}
                                {mod.replace("M칍DULO ", "M")}
                                </button>
                            );
                        })}
                    </div>

                    {/* Card Container: ALTURA AUMENTADA A 570px EN M칍VIL */}
                    <div className="relative w-full max-w-2xl h-[570px] md:h-[500px] perspective-1000 group">
                    {filteredCards.length > 0 ? (
                        <div
                        onClick={handleFlip}
                        className={`relative w-full h-full duration-500 transform-style-3d cursor-pointer transition-transform ${
                            isFlipped ? "rotate-y-180" : ""
                        }`}
                        >
                        {/* FRENTE */}
                        <div 
                            className={`absolute w-full h-full bg-white rounded-3xl shadow-xl border border-slate-200 flex flex-col backface-hidden overflow-hidden`}
                        >
                            {/* Overlay de Bloqueo Visual */}
                            {isCardLocked && (
                                <div className="absolute inset-0 bg-slate-100/95 backdrop-blur-sm z-10 flex flex-col items-center justify-center p-8">
                                    <div className="bg-white p-4 rounded-full shadow-lg mb-4 text-slate-400">
                                        <Icons.Lock />
                                    </div>
                                    <h3 className="text-xl font-bold text-slate-700 mb-2">Contenido Bloqueado</h3>
                                    <p className="text-sm text-slate-500 mb-6">Debes completar los m칩dulos anteriores e ingresar tu c칩digo.</p>
                                    <button 
                                        onClick={(e) => { e.stopPropagation(); setShowUnlockModal(true); }}
                                        className="bg-slate-800 text-white px-6 py-2 rounded-lg text-sm font-bold shadow-lg hover:bg-slate-700 transition-colors"
                                    >
                                        Desbloquear Nivel
                                    </button>
                                </div>
                            )}

                            {/* Contenido Frontal */}
                            <div className="w-full flex-1 flex flex-col items-center justify-center px-4 md:px-8 pb-12 pt-6 text-center">
                                <div className={`mb-4 p-3 rounded-2xl shadow-sm ${currentCard.lightColor} ${currentCard.textColor}`}>
                                    {currentCard.icon}
                                </div>
                                <div className={`text-[10px] font-black uppercase tracking-widest mb-1 ${currentCard.textColor}`}>
                                    {currentCard.module}
                                </div>
                                <div className="text-xs font-medium text-slate-400 mb-2">
                                    {currentCard.moduleTitle}
                                </div>
                                <h3 className="text-xl md:text-2xl font-bold text-slate-800 mb-3 leading-tight">
                                    {currentCard.title}
                                </h3>
                                <p className="text-slate-600 text-base md:text-lg font-medium leading-relaxed max-w-md mx-auto">
                                    {currentCard.frontText}
                                </p>
                            </div>
                            
                            {/* Footer Absoluto Frontal - FONDO BLANCO S칍LIDO */}
                            <div className="absolute bottom-0 left-0 w-full p-4 border-t border-slate-50 flex items-center justify-center gap-2 text-slate-400 text-sm bg-white z-10">
                                <Icons.RotateCw />
                                <span className="uppercase font-bold text-xs tracking-wide">Voltear tarjeta</span>
                            </div>
                        </div>

                        {/* REVERSO */}
                        <div 
                            className="absolute w-full h-full bg-white rounded-3xl shadow-xl border border-slate-200 flex flex-col overflow-hidden backface-hidden rotate-y-180"
                        >
                            {/* Header Absoluto Trasero */}
                            <div className={`shrink-0 px-6 py-3 border-b border-slate-100 flex items-center gap-3 bg-white ${currentCard.textColor}`}>
                                <div className="scale-75 origin-left">{currentCard.icon}</div>
                                <span className="font-bold text-xs uppercase tracking-wide truncate max-w-[300px]">{currentCard.title}</span>
                            </div>

                            {/* Contenido Scrollable */}
                            <div className="flex-1 overflow-y-auto p-5 md:p-8 space-y-3 md:space-y-5 no-scrollbar text-left relative pb-20">
                                {currentCard.backContent.explanation && (
                                    <div>
                                        <h4 className="font-bold text-slate-900 text-sm mb-1 flex items-center gap-2">
                                            游눠 Explicaci칩n
                                        </h4>
                                        <p className="text-slate-600 text-sm leading-relaxed">
                                            {currentCard.backContent.explanation}
                                        </p>
                                    </div>
                                )}

                                {currentCard.backContent.example && (
                                    <div className="pl-4 border-l-4 border-slate-200 py-1 bg-slate-50 p-3 rounded-r-lg">
                                        <h4 className="font-bold text-slate-700 text-xs mb-1">EJEMPLO MONTA칌AM칈A</h4>
                                        <p className="text-slate-500 text-sm italic">"{currentCard.backContent.example}"</p>
                                    </div>
                                )}

                                {currentCard.backContent.action && (
                                    <>
                                        {currentCard.hasWhatsAppAction ? (
                                            /* BOT칍N WHATSAPP S칍LIDO */
                                            <button 
                                                onClick={(e) => {
                                                    e.stopPropagation();
                                                    openWhatsApp(`Hola, quiero el c칩digo para desbloquear el nivel: ${currentCard.backContent.action.replace("Solicita el c칩digo para ", "")}`);
                                                }}
                                                className="w-full flex gap-3 items-center bg-green-500 p-4 rounded-xl shadow-md hover:bg-green-600 transition-colors text-left group/btn text-white"
                                            >
                                                <div className="p-1">
                                                    <Icons.WhatsApp />
                                                </div>
                                                <div>
                                                    <span className="block text-xs font-bold text-green-100 uppercase mb-1">Tu Misi칩n: Pedir C칩digo</span>
                                                    <p className="text-sm font-bold text-white leading-tight">
                                                        {currentCard.backContent.action}
                                                    </p>
                                                </div>
                                            </button>
                                        ) : (
                                            /* ACCI칍N NORMAL */
                                            <div className="flex gap-3 items-start bg-emerald-50 p-4 rounded-xl border border-emerald-100 shadow-sm">
                                                <div className="bg-emerald-100 p-1.5 rounded-full mt-0.5 shrink-0 text-emerald-700">
                                                    <Icons.CheckCircle />
                                                </div>
                                                <div>
                                                    <span className="block text-xs font-bold text-emerald-800 uppercase mb-1">Tu Misi칩n</span>
                                                    <p className="text-sm text-emerald-900 font-medium">
                                                        {currentCard.backContent.action}
                                                    </p>
                                                </div>
                                            </div>
                                        )}
                                    </>
                                )}
                                
                                {currentCard.backContent.tip && (
                                    <div className="text-xs text-slate-500 bg-slate-100 p-3 rounded-lg flex gap-2">
                                        <span>驕뢢잺</span>
                                        <span className="font-semibold text-slate-600">Tip Pro: {currentCard.backContent.tip}</span>
                                    </div>
                                )}
                            </div>
                            
                            {/* Footer Absoluto Trasero - FONDO BLANCO S칍LIDO */}
                            <div className="absolute bottom-0 left-0 w-full p-4 flex justify-between items-center bg-white border-t border-slate-100 text-slate-400 text-xs z-20">
                                <span>{currentCard.module}</span>
                                <button 
                                    onClick={(e) => {
                                        e.stopPropagation();
                                        setIsFlipped(false);
                                    }}
                                    className="flex items-center gap-1 font-bold text-slate-600 hover:text-emerald-600 transition-colors z-30 relative px-4 py-2 rounded-lg hover:bg-slate-50"
                                >
                                    Voltear <Icons.RotateCw />
                                </button>
                            </div>
                        </div>
                        </div>
                    ) : (
                        <div className="w-full h-full flex items-center justify-center bg-white rounded-3xl border-2 border-dashed border-slate-300">
                           <p className="text-slate-400 font-medium">Selecciona un m칩dulo para empezar.</p>
                        </div>
                    )}
                    </div>

                    {/* Controles Externos */}
                    <div className="flex items-center gap-6 mt-2">
                        <button onClick={prevCard} className="p-4 rounded-full bg-white border border-slate-200 shadow-sm text-slate-500 active:scale-95 transition-all"><Icons.ChevronLeft /></button>
                        <div className="text-sm font-bold text-slate-400 tracking-widest">{currentIndex + 1} / {filteredCards.length}</div>
                        <button onClick={(e) => nextCard(null)} className="p-4 rounded-full bg-slate-800 shadow-lg text-white active:scale-95 transition-all"><Icons.ChevronRight /></button>
                    </div>

                    {/* === MODAL DESBLOQUEO DE NIVEL === */}
                    {showUnlockModal && (
                        <div className="fixed inset-0 bg-slate-900/80 backdrop-blur-sm z-50 flex items-center justify-center p-4">
                            <div className="bg-white rounded-2xl shadow-2xl max-w-sm w-full p-6 animate-bounce-short" style={{animation: 'none'}}>
                                <div className="flex justify-between items-start mb-4">
                                    <div className="bg-amber-100 p-2 rounded-full text-amber-600"><Icons.Lock /></div>
                                    <button onClick={() => setShowUnlockModal(false)} className="text-slate-400 hover:text-slate-600 text-xl font-bold">&times;</button>
                                </div>
                                <h3 className="text-xl font-bold text-slate-800 mb-2">Siguiente Nivel Bloqueado</h3>
                                <p className="text-slate-600 text-sm mb-6">
                                    Para acceder a los m칩dulos {unlockedStage * 2 + 1} y {unlockedStage * 2 + 2}, necesitas el c칩digo de acceso.
                                </p>
                                
                                <button 
                                    onClick={() => openWhatsApp("Hola, ya termin칠 los m칩dulos de la Ruta SEO y quiero desbloquear el siguiente nivel.")}
                                    className="w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold text-sm py-3 rounded-xl mb-6 transition-colors shadow-green-200 shadow-lg"
                                >
                                    <Icons.WhatsApp />
                                    <span>Pedir c칩digo por WhatsApp</span>
                                </button>

                                <form onSubmit={handleUnlockSubmit} className="border-t border-slate-100 pt-4">
                                    <p className="text-xs text-center text-slate-400 uppercase font-bold mb-2">Ingresar Contrase침a</p>
                                    <input 
                                        type="text" 
                                        value={unlockCodeInput}
                                        onChange={(e) => setUnlockCodeInput(e.target.value.toUpperCase())}
                                        placeholder="C칍DIGO"
                                        className="w-full px-4 py-3 rounded-xl border border-slate-200 focus:border-slate-800 focus:ring-2 focus:ring-slate-100 outline-none text-center font-mono uppercase tracking-widest text-lg mb-2"
                                    />
                                    {unlockError && <p className="text-red-500 text-xs text-center mb-2">{unlockError}</p>}
                                    <button 
                                        type="submit"
                                        className="w-full bg-slate-800 hover:bg-slate-700 text-white font-bold py-3 rounded-xl transition-colors"
                                    >
                                        Desbloquear
                                    </button>
                                </form>
                            </div>
                        </div>
                    )}

                    {/* === MODAL FINAL OBLIGATORIO === */}
                    {showFinalModal && (
                        <div className="fixed inset-0 bg-slate-900/90 backdrop-blur-md z-[60] flex items-center justify-center p-4">
                            <div className="bg-white rounded-3xl shadow-2xl max-w-sm w-full p-8 text-center relative overflow-hidden">
                                <div className="absolute top-0 left-0 w-full h-2 bg-gradient-to-r from-emerald-400 to-blue-500"></div>
                                <div className="bg-emerald-100 w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-6 text-emerald-600">
                                    <Icons.CheckCircle />
                                </div>
                                <h2 className="text-2xl font-black text-slate-800 mb-2">춰Ruta Completada!</h2>
                                <p className="text-slate-600 mb-8">
                                    Has terminado los 8 m칩dulos. Ahora necesitamos revisar tus avances en rinconesyveredas.com y definir los siguientes pasos.
                                </p>
                                
                                <button 
                                    onClick={() => openWhatsApp("Hola, ya termin칠 la ruta SEO completa y quiero revisar resultados y siguientes pasos.")}
                                    className="w-full flex items-center justify-center gap-2 bg-green-500 hover:bg-green-600 text-white font-bold py-4 rounded-xl shadow-xl shadow-green-200 transition-all hover:scale-105"
                                >
                                    <Icons.WhatsApp />
                                    <span>Contactar para Revisi칩n Final</span>
                                </button>
                                <p className="text-[10px] text-slate-400 mt-4">No hay contenido posterior sin esta validaci칩n.</p>
                            </div>
                        </div>
                    )}

                </main>
                </div>
            );
        }

        const root = ReactDOM.createRoot(document.getElementById('root'));
        root.render(<SEOFlashCards />);
    </script>
</body>
</html>